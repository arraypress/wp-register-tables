/**
 * Admin Tables Styles
 *
 * @package ArrayPress\RegisterTables
 */

/* ==========================================================================
   Custom Properties
   ========================================================================== */

:root {
    /* Text */
    --at-text-primary: #1d2327;
    --at-text-secondary: #646970;
    --at-text-muted: #a7aaad;

    /* Borders */
    --at-border: #c3c4c7;

    /* Backgrounds */
    --at-bg-white: #fff;
    --at-bg-subtle: #f0f0f1;
    --at-bg-info: #f0f6fc;

    /* Links / Accent */
    --at-accent: #2271b1;
    --at-accent-hover: #135e96;
    --at-accent-alt: #0073aa;

    /* Status */
    --at-success: #46b450;
    --at-danger: #b32d2e;
    --at-danger-hover: #dc3545;

    /* Code */
    --at-code-font: Consolas, Monaco, monospace;
    --at-code-size: 12px;

    /* Radius */
    --at-radius-sm: 3px;
    --at-radius-md: 4px;

    /* Thumbnail */
    --at-thumb-max-width: 64px;
    --at-thumb-radius: 4px;
}

/* ==========================================================================
   List Table Header (outside .wrap, sibling to it)
   Matches EDD pattern - sits in #wpcontent, uses negative margin to stretch
   ========================================================================== */

.list-table-header {
    background: var(--at-bg-white);
    border-bottom: 1px solid var(--at-border);
    margin: 0 0 0 -20px;
    padding: 0 20px;
}

.list-table-header__inner {
    display: flex;
    align-items: center;
    gap: 16px;
    height: 80px;
}

.list-table-header__branding {
    display: flex;
    align-items: center;
    gap: 12px;
}

.list-table-header__logo {
    max-height: 36px;
    width: auto;
}

.list-table-header__separator {
    color: var(--at-border);
    font-size: 24px;
    font-weight: 300;
}

.list-table-header__title {
    margin: 0;
    padding: 0;
    font-size: 21px;
    font-weight: 400;
    line-height: 1.3;
    color: var(--at-text-primary);
}

.list-table-header__title .count {
    color: var(--at-text-secondary);
    font-weight: 400;
    font-size: 14px;
}

.list-table-header__actions {
    display: flex;
    align-items: center;
    gap: 12px;
}

/* Add New Button in Header */
.list-table-header__actions .page-title-action {
    display: inline-flex;
    align-items: center;
    gap: 4px;
}

.list-table-header__actions .page-title-action .dashicons {
    font-size: 16px;
    width: 16px;
    height: 16px;
    line-height: 16px;
}

/* ==========================================================================
   Search Results Banner
   ========================================================================== */

.list-table-search-banner {
    background: var(--at-bg-info);
    border: 1px solid var(--at-border);
    border-radius: var(--at-radius-md);
    padding: 12px 16px;
    margin: 16px 0;
    display: flex;
    align-items: center;
    justify-content: space-between;
}

.list-table-search-banner__text {
    display: flex;
    align-items: center;
    gap: 8px;
    color: var(--at-text-primary);
    font-size: 13px;
}

.list-table-search-banner__text .dashicons {
    color: var(--at-accent);
}

.list-table-search-banner__text strong {
    color: var(--at-text-primary);
}

.list-table-search-banner__clear {
    text-decoration: none;
    color: var(--at-accent);
    font-size: 13px;
}

.list-table-search-banner__clear:hover {
    color: var(--at-accent-hover);
}

/* ==========================================================================
   Empty State
   Shown when the table has zero items total (no search/filter active).
   Follows WooCommerce / WordPress core empty post type screen patterns.
   ========================================================================== */

.list-table-empty-state {
    text-align: center;
    padding: 60px 20px;
    max-width: 400px;
    margin: 40px auto;
}

.list-table-empty-state__icon {
    margin-bottom: 16px;
}

.list-table-empty-state__icon .dashicons {
    font-size: 48px;
    width: 48px;
    height: 48px;
    color: var(--at-text-muted);
}

.list-table-empty-state__heading {
    font-size: 18px;
    font-weight: 400;
    color: var(--at-text-primary);
    margin: 0 0 8px;
}

.list-table-empty-state__description {
    font-size: 13px;
    color: var(--at-text-secondary);
    margin: 0 0 24px;
    line-height: 1.5;
}

.list-table-empty-state__action .button-primary {
    display: inline-flex;
    align-items: center;
    gap: 4px;
}

/* ==========================================================================
   Misc Column Styles
   ========================================================================== */

.text-muted {
    color: var(--at-text-muted);
}

.unlimited {
    font-size: 18px;
    color: var(--at-accent-alt);
    font-weight: 600;
}

/* ==========================================================================
   Row Actions
   ========================================================================== */

.delete-link {
    color: var(--at-danger);
}

.delete-link:hover {
    color: var(--at-danger-hover);
}

/* ==========================================================================
   Filter Actions
   ========================================================================== */

.tablenav .actions > .button + .button {
    margin-left: 6px;
}

/* ==========================================================================
   Avatar Styling (matches WordPress users table)
   ========================================================================== */

.wp-list-table .column-name img.avatar,
.wp-list-table .column-customer img.avatar,
.wp-list-table .column-product_name img.avatar {
    float: left;
    margin-right: 10px;
    margin-top: 1px;
}

.wp-list-table .avatar {
    border-radius: 20%;
}

/* ==========================================================================
   Column Value Formatting
   ========================================================================== */

/* Code/ID - monospace styling */
.wp-list-table code.code {
    background: var(--at-bg-subtle);
    padding: 2px 6px;
    border-radius: var(--at-radius-sm);
    font-family: var(--at-code-font);
    font-size: var(--at-code-size);
    color: var(--at-text-primary);
}

/* Percentage */
.wp-list-table .percentage {
    font-variant-numeric: tabular-nums;
}

/* Duration */
.wp-list-table .duration {
    font-variant-numeric: tabular-nums;
    white-space: nowrap;
}

/* File size */
.wp-list-table .file-size {
    font-variant-numeric: tabular-nums;
    white-space: nowrap;
}

/* Price */
.wp-list-table .price {
    font-variant-numeric: tabular-nums;
    white-space: nowrap;
}

/* Thumbnail */
.wp-list-table .column-thumbnail {
    max-width: var(--at-thumb-max-width);
    height: auto;
    border-radius: var(--at-thumb-radius);
    vertical-align: middle;
}

/* Boolean */
.wp-list-table .column-boolean-yes {
    color: var(--at-success);
}

.wp-list-table .column-boolean-no {
    color: var(--at-text-muted);
}

/* Items */
.wp-list-table .column-items-rest {
    color: var(--at-text-secondary);
}

/* User */
.wp-list-table .column-user {
    display: inline-flex;
    align-items: center;
    gap: 2px;
}

.wp-list-table .column-user img.avatar {
    border-radius: 50%;
    vertical-align: middle;
}

/* Taxonomy */
.wp-list-table .column-taxonomy {
    line-height: 1.8;
}

.wp-list-table .column-term {
    display: inline-block;
    background: var(--at-bg-subtle);
    padding: 2px 8px;
    border-radius: var(--at-radius-sm);
    font-size: 12px;
    color: var(--at-text-primary);
    white-space: nowrap;
}

a.column-term {
    text-decoration: none;
}

a.column-term:hover {
    background: var(--at-border);
}

/* Color */
.wp-list-table .column-color span {
    display: inline-flex;
    align-items: center;
    gap: 6px;
}

.wp-list-table .column-color-swatch {
    display: inline-block;
    width: 16px;
    height: 16px;
    border-radius: var(--at-radius-sm);
    border: 1px solid var(--at-border);
    vertical-align: middle;
}

/* ==========================================================================
   Row Classes
   Status-based row styling following WordPress core patterns
   (e.g., status-draft, status-pending in WP_Posts_List_Table).
   Auto-applied via single_row() when item has get_status().
   Custom classes via row_class callback config.
   ========================================================================== */

.wp-list-table tr.status-inactive,
.wp-list-table tr.status-disabled,
.wp-list-table tr.status-trash {
    background: var(--at-bg-subtle);
}

.wp-list-table tr.status-inactive td,
.wp-list-table tr.status-disabled td,
.wp-list-table tr.status-trash td {
    color: var(--at-text-secondary);
}

.wp-list-table tr.status-inactive td a,
.wp-list-table tr.status-disabled td a,
.wp-list-table tr.status-trash td a {
    color: var(--at-text-secondary);
}

.wp-list-table tr.status-pending {
    background: #fcf9e8;
}

/* ==========================================================================
   Responsive
   ========================================================================== */

@media screen and (max-width: 782px) {
    .list-table-header {
        margin-left: -10px;
        padding: 0 10px;
    }

    .list-table-header__inner {
        flex-direction: column;
        align-items: flex-start;
        gap: 12px;
        padding: 12px 0;
    }

    .list-table-search-banner {
        flex-direction: column;
        align-items: flex-start;
        gap: 8px;
    }
}

/* ==========================================================================
   Row Actions - Enforce Hover Behavior
   WordPress may override this when columns are manageable, so we enforce it
   ========================================================================== */

.admin-table .wp-list-table .row-actions,
.admin-table .wp-list-table .row-actions.visible {
    visibility: hidden;
}

.admin-table .wp-list-table tr:hover .row-actions,
.admin-table .wp-list-table tr:focus-within .row-actions {
    visibility: visible;
}

/* ==========================================================================
   Table Tweaks
   ========================================================================== */

.admin-table div.metabox-prefs {
    margin: 0 0 0 -20px !important;
}

.admin-table fieldset.metabox-prefs {
    margin-left: 0 !important;
}

.admin-table .notice {
    margin-top: 12px;
    margin-left: 0;
}

/* ==========================================================================
   Column Subtitle
   Muted pill label shown beneath or beside the primary column title.
   Used for nicknames, billing periods, or other secondary info.
   ========================================================================== */

.wp-list-table .column-subtitle {
    display: inline-block;
    margin-top: 4px;
    margin-left: 10px;
    padding: 3px 10px;
    border-radius: 10px;
    font-size: 11px;
    font-weight: 500;
    line-height: 1.4;
    letter-spacing: 0.2px;
    border: 1px solid;
}

/* One-time: neutral gray */
.wp-list-table .column-subtitle--one-time {
    background: #f0f0f1;
    color: #646970;
    border-color: #c3c4c782;
}

/* Recurring: soft blue */
.wp-list-table .column-subtitle--recurring {
    background: #e7f3ff;
    color: #1d6fad;
    border-color: #aedcff;
}

/* Header badge */
.list-table-header__badge {
    display: inline-flex;
    align-items: center;
    padding: 2px 10px;
    margin-left: 10px;
    font-size: 11px;
    font-weight: 600;
    line-height: 1.6;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    border-radius: 3px;
    background: #f0f0f1;
    color: #50575e;
    vertical-align: middle;
}

/* Modifier classes */
.list-table-header__badge.badge-warning {
    background: #fcf0e3;
    color: #9a6700;
}

.list-table-header__badge.badge-success {
    background: #edfaef;
    color: #1a7a2e;
}

.list-table-header__badge.badge-error {
    background: #fce4e4;
    color: #8a1f1f;
}

.list-table-header__badge.badge-info {
    background: #e5f0fa;
    color: #1d4ed8;
}

/* Customer column classes */
span.column-customer {
    display: inline-flex;
    align-items: center;
    gap: 8px;
}

span.column-customer-detail {
    display: flex;
    flex-direction: column;
    line-height: 1.3;
}

span.column-customer-email {
    font-size: 12px;
    color: #646970;
}